{"ast":null,"code":"var _jsxFileName = \"/home/tanto/Courses/CCC/Learns/react/ausmap/src/App.js\";\nimport React, { Component, useState } from 'react';\nimport './App.css';\nimport { Map, TileLayer, GeoJSON, Marker, Popup, CircleMarker, Tooltip, LayersControl, LayerGroup, Circle, ZoomControl } from 'react-leaflet';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { farDotCircle, faRunning, faGamepad, faLaptopHouse, faHamburger, faFilm, faChartPie, faPeopleCarry } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Control from 'react-leaflet-control';\nimport cities from './cities.json';\nimport sydney from './sydney.json';\nimport aus from './aus.json';\nimport activities from './activities.json';\nimport layers from './layers.json';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { LayerChooser } from './LayerChooser';\nlibrary.add(farDotCircle, faRunning, faGamepad, faLaptopHouse, faHamburger, faFilm, faChartPie, faPeopleCarry);\nconst DEFAULT_ZOOM_LEVEL = 9;\nconst DEFAULT_CENTER = [-33.834905, 150.9673231];\nconst DEFAULT_VIEWPORT = {\n  center: DEFAULT_CENTER,\n  zoom: DEFAULT_ZOOM_LEVEL\n};\nconst {\n  BaseLayer,\n  Overlay\n} = LayersControl; //https://data.gov.au/geoserver/nsw-suburb-locality-boundaries-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_91e70237_d9d1_4719_a82f_e71b811154c6&outputFormat=json\n//const center = [-23.116667, 132.133333]\n//const center = [ -33.807908, 151.0007289 ]\n\nconst center = [-33.834905, 150.9673231]; // Greater Sidney central\n//const center = [-25.6101111,134.3547222] //Australia central\n\nconst rectangle = [[51.49, -0.08], [51.5, -0.06]];\nconst layerStyle = {\n  display: 'none',\n  float: 'right'\n};\nconst colors = ['#800026', '#BD0026', '#E31A1C', '#FC4E2A', '#FD8D3C', '#FEB24C', '#FED976', '#FFEDA0'];\n\nfunction getColor(d) {\n  let rand = Math.floor(Math.random() * Math.floor(colors.length));\n  return colors[rand];\n}\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      viewport: DEFAULT_VIEWPORT,\n      selected: 'exercise',\n      selectedData: aus\n    };\n\n    this.resetView = () => {\n      console.log(\"resetView\");\n      this.setState({\n        viewport: DEFAULT_VIEWPORT\n      });\n    };\n\n    this.onViewportChanged = viewport => {\n      this.setState({\n        viewport\n      });\n    };\n\n    this.setSelected = activity => {\n      console.log(\"setSelected: \" + activity);\n      this.setState({\n        selected: activity\n      });\n    };\n\n    this.selectOverlayLayer = layer => {\n      console.log(\"selectOverlayLayer: \" + layer);\n      this.setState({\n        selectedData: layer.data\n      });\n    };\n  }\n\n  render() {\n    console.log(\"returning: \");\n    return (\n      /*#__PURE__*/\n      //Sydney zoom level 9 aus 5\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, \"Activities During #AustraliaLockdown\"), /*#__PURE__*/React.createElement(Map, {\n        onViewportChanged: this.onViewportChanged,\n        viewport: this.state.viewport,\n        style: {\n          width: \"80vh\",\n          height: \"100vh\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(LayersControl, {\n        position: \"topleft\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Control, {\n        position: \"topleft\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.resetView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: farDotCircle,\n        size: \"2x\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 10\n        }\n      }))), /*#__PURE__*/React.createElement(BaseLayer, {\n        checked: \"checked\",\n        name: \"Black and White\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TileLayer, {\n        attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(BaseLayer, {\n        name: \"Colored\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TileLayer, {\n        attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }))), this.state.showMyComponent && /*#__PURE__*/React.createElement(LayerGroup, {\n        style: layerStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Circle, {\n        center: center,\n        fillColor: \"blue\",\n        radius: 200,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Circle, {\n        center: center,\n        fillColor: \"red\",\n        radius: 100,\n        stroke: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(LayerGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Circle, {\n        center: [51.51, -0.08],\n        color: \"green\",\n        fillColor: \"green\",\n        radius: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }))), cities.map((city, k) => {\n        return /*#__PURE__*/React.createElement(CircleMarker, {\n          key: k,\n          center: [city[\"coordinates\"][1], city[\"coordinates\"][0]],\n          radius: 5 * Math.log(city[this.state.selected] / 100000),\n          fillOpacity: 0.9,\n          stroke: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Tooltip, {\n          direction: \"right\",\n          offset: [-8, -2],\n          opacity: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 19\n          }\n        }, city[\"name\"]), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }\n        }, city[\"id\"] + \" \" + city[this.state.selected])));\n      }), /*#__PURE__*/React.createElement(LayerGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(GeoJSON, {\n        data: this.state.selectedData,\n        style: feature => ({\n          color: '#4a83ec',\n          weight: 0.5,\n          fillColor: getColor(feature),\n          fillOpacity: 0.2\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Marker, {\n        position: [50, 10],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Popup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }\n      }, \"Popup for any custom information.\"))), /*#__PURE__*/React.createElement(Control, {\n        position: \"topright\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }\n      }, activities.map(activity => /*#__PURE__*/React.createElement(Col, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(LayerChooser, {\n        layer: activity,\n        key: activity.id,\n        selectLayer: this.setSelected,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      })))))), /*#__PURE__*/React.createElement(Control, {\n        position: \"topright\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      }, layers.map(layer => /*#__PURE__*/React.createElement(Col, {\n        className: \"mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(LayerChooser, {\n        layer: layer,\n        key: layer.id,\n        selectLayer: this.selectOverlayLayer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }))))))))\n    );\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/tanto/Courses/CCC/Learns/react/ausmap/src/App.js"],"names":["React","Component","useState","Map","TileLayer","GeoJSON","Marker","Popup","CircleMarker","Tooltip","LayersControl","LayerGroup","Circle","ZoomControl","library","farDotCircle","faRunning","faGamepad","faLaptopHouse","faHamburger","faFilm","faChartPie","faPeopleCarry","FontAwesomeIcon","Control","cities","sydney","aus","activities","layers","Container","Row","Col","LayerChooser","add","DEFAULT_ZOOM_LEVEL","DEFAULT_CENTER","DEFAULT_VIEWPORT","center","zoom","BaseLayer","Overlay","rectangle","layerStyle","display","float","colors","getColor","d","rand","Math","floor","random","length","App","state","viewport","selected","selectedData","resetView","console","log","setState","onViewportChanged","setSelected","activity","selectOverlayLayer","layer","data","render","textAlign","width","height","showMyComponent","map","city","k","feature","color","weight","fillColor","fillOpacity","id"],"mappings":"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","sourcesContent":["\nimport React, { Component, useState } from 'react';\n\nimport './App.css';\nimport { Map, TileLayer, GeoJSON, Marker, Popup, CircleMarker ,Tooltip,\n  LayersControl,\n  LayerGroup,\n  Circle , ZoomControl } from 'react-leaflet';\n\n  import { library } from '@fortawesome/fontawesome-svg-core';\n  import { farDotCircle, faRunning, faGamepad, faLaptopHouse, faHamburger, faFilm, faChartPie, faPeopleCarry } from '@fortawesome/free-solid-svg-icons';\n\n  \n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport Control from 'react-leaflet-control';\nimport cities from './cities.json';\nimport sydney from './sydney.json';\nimport aus from './aus.json';\n\nimport activities from './activities.json';\nimport layers from './layers.json';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { LayerChooser } from './LayerChooser';\n\nlibrary.add(farDotCircle, faRunning, faGamepad, faLaptopHouse, faHamburger, faFilm, faChartPie, faPeopleCarry ); \n\nconst DEFAULT_ZOOM_LEVEL = 9;\nconst DEFAULT_CENTER = [-33.834905,150.9673231];\nconst DEFAULT_VIEWPORT = {\n  center: DEFAULT_CENTER,\n  zoom: DEFAULT_ZOOM_LEVEL\n}\n\nconst { BaseLayer, Overlay } = LayersControl\n//https://data.gov.au/geoserver/nsw-suburb-locality-boundaries-psma-administrative-boundaries/wfs?request=GetFeature&typeName=ckan_91e70237_d9d1_4719_a82f_e71b811154c6&outputFormat=json\n//const center = [-23.116667, 132.133333]\n//const center = [ -33.807908, 151.0007289 ]\nconst center = [-33.834905,150.9673231]  // Greater Sidney central\n//const center = [-25.6101111,134.3547222] //Australia central\nconst rectangle = [\n  [51.49, -0.08],\n  [51.5, -0.06],\n]\nconst layerStyle = {\n  display: 'none',\n  float: 'right'\n}\nconst colors = ['#800026','#BD0026', '#E31A1C', '#FC4E2A', '#FD8D3C', '#FEB24C', '#FED976', '#FFEDA0'];\nfunction getColor(d) {\n  let rand = Math.floor(Math.random() * Math.floor(colors.length));\n  return colors[rand];\n}\n\nclass App extends Component {\n  state = {\n    viewport: DEFAULT_VIEWPORT,\n    selected: 'exercise',\n    selectedData: aus\n  }\n\n  resetView = () => {\n    console.log(\"resetView\");\n    this.setState({ viewport: DEFAULT_VIEWPORT })\n  }\n\n  onViewportChanged = (viewport) => {\n    this.setState({ viewport })\n  }\n\n  setSelected = (activity) => {\n    console.log(\"setSelected: \"+activity);\n    this.setState({ selected: activity })\n  }\n\n  selectOverlayLayer = (layer) => {\n    console.log(\"selectOverlayLayer: \"+layer);\n    this.setState({ selectedData: layer.data })\n  }\n\n  render() {\n\n    console.log(\"returning: \")\n    return ( //Sydney zoom level 9 aus 5\n      <div>\n        <h3 style={{ textAlign: \"center\" }}>Activities During #AustraliaLockdown</h3>\n        <Map onViewportChanged={this.onViewportChanged} viewport={this.state.viewport} style={{ width: \"80vh\", height: \"100vh\" }}>\n        <LayersControl position=\"topleft\">\n  \n        <Control position=\"topleft\">\n      <button \n          onClick={ this.resetView }\n          >\n         <FontAwesomeIcon icon={ farDotCircle } size=\"2x\"/>\n        </button>\n      </Control>\n        <BaseLayer checked=\"checked\" name=\"Black and White\">\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\"\n            />\n          </BaseLayer>\n        <BaseLayer name=\"Colored\">\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n          </BaseLayer>\n          </LayersControl>\n          { this.state.showMyComponent && \n            <LayerGroup style={layerStyle}>\n              <Circle center={center} fillColor=\"blue\" radius={200} />\n              <Circle\n                center={center}\n                fillColor=\"red\"\n                radius={100}\n                stroke={false}\n              />\n              <LayerGroup>\n                <Circle\n                  center={[51.51, -0.08]}\n                  color=\"green\"\n                  fillColor=\"green\"\n                  radius={100}\n                />\n              </LayerGroup>\n            </LayerGroup>\n            }\n\n        {cities.map((city, k) => {\n            return (\n              <CircleMarker\n                key={k}\n                center={[city[\"coordinates\"][1], city[\"coordinates\"][0]]}\n                radius={5 * Math.log(city[this.state.selected] / 100000)}\n                fillOpacity={0.9}\n                stroke={true}\n              >\n                <Tooltip direction=\"right\" offset={[-8, -2]} opacity={1}>\n                  <strong>{city[\"name\"]}</strong>\n                  <span>{city[\"id\"] + \" \" + city[this.state.selected]}</span>\n                </Tooltip>\n              </CircleMarker>\n            );\n          })}\n\n<LayerGroup>\n          <GeoJSON\n          data={this.state.selectedData}\n          style={(feature) => ({\n            color: '#4a83ec',\n            weight: 0.5,\n            fillColor: getColor(feature),\n            fillOpacity: 0.2,\n          })}\n        />\n         <Marker position={[50, 10]}>\n          <Popup>\n            Popup for any custom information.\n          </Popup>\n        </Marker>\n        </LayerGroup>\n      <Control position=\"topright\" >\n        <Container>\n        <Row>\n        {activities.map(activity => (\n          <Col className=\"mb-5\">\n            <LayerChooser layer={activity} key={activity.id} selectLayer={this.setSelected} />\n          </Col>\n        ))}\n        </Row>\n        </Container>\n      </Control>\n      <Control position=\"topright\" >\n        <Container>\n        <Row>\n        {layers.map(layer => (\n          <Col className=\"mb-5\">\n            <LayerChooser layer={layer} key={layer.id} selectLayer={this.selectOverlayLayer} />\n          </Col>\n        ))}\n        </Row>\n        </Container>\n      </Control>\n</Map>\n\n      </div>          \n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ListItem = require('./ListItem');\n\nvar _ListItem2 = _interopRequireDefault(_ListItem);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * Props:\n *  baseLayers\n *  checkhedBaseLayer\n *  overlays\n *  exclusiveGroups\n *  onBaseLayerChange\n *  onOverlayChange\n */\n\n\nvar RLGroupedLayerControlRC = function (_React$Component) {\n  _inherits(RLGroupedLayerControlRC, _React$Component);\n\n  function RLGroupedLayerControlRC(props) {\n    _classCallCheck(this, RLGroupedLayerControlRC);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.listItem = _this.listItem.bind(_this);\n    _this.reduceWithProps = _this.reduceWithProps.bind(_this);\n    _this.baseLayerChange = _this.baseLayerChange.bind(_this);\n    _this.state = {\n      open: false\n    };\n    _this.groups;\n    _this.id = Math.ceil(Math.random() * 1000);\n    return _this;\n  }\n  /**\n   * Events\n   */\n\n\n  RLGroupedLayerControlRC.prototype.mainDivMouseEnter = function mainDivMouseEnter(e) {\n    this.state.open || this.setState({\n      open: true\n    });\n  };\n\n  RLGroupedLayerControlRC.prototype.mainDivMouseLeave = function mainDivMouseLeave(e) {\n    this.setState({\n      open: false\n    });\n  }; // Events End\n\n\n  RLGroupedLayerControlRC.prototype.reduceWithProps = function reduceWithProps() {\n    var _this2 = this;\n\n    this.groups = this.props.overlays && this.props.overlays.reduce(function (a, b) {\n      if (typeof a[b.groupTitle] === 'undefined') {\n        a[b.groupTitle] = {\n          exclusive: undefined,\n          groupItems: []\n        };\n      }\n\n      if (typeof a[b.groupTitle]['exclusive'] === 'undefined') {\n        if (_this2.props.exclusiveGroups && _this2.props.exclusiveGroups.includes(b.groupTitle)) {\n          a[b.groupTitle]['exclusive'] = true;\n        } else {\n          a[b.groupTitle]['exclusive'] = false;\n        }\n      }\n\n      a[b.groupTitle]['groupItems'].push(b);\n      return a;\n    }, {\n      init: true\n    });\n    this.groupTitles = this.props.overlays && Array.from(new Set(this.props.overlays.map(function (e) {\n      return e.groupTitle;\n    })));\n  };\n\n  RLGroupedLayerControlRC.prototype.groupContainer = function groupContainer(groupTitle, groupElemans, key) {\n    return _react2.default.createElement('div', {\n      key: key,\n      className: 'rlglc-group'\n    }, groupTitle, groupElemans);\n  };\n\n  RLGroupedLayerControlRC.prototype.listItem = function listItem(groupName, e, checked, type, onClick) {\n    return _react2.default.createElement(_ListItem2.default, {\n      key: e.name + '-' + this.id,\n      groupName: groupName,\n      id: this.id,\n      e: e,\n      checked: checked,\n      type: type,\n      onClick: onClick\n    });\n  };\n\n  RLGroupedLayerControlRC.prototype.overlayChanged = function overlayChanged(exclusive, event) {\n    var _this3 = this;\n\n    var overlays = [].concat(this.props.overlays);\n    var id = event.target.getAttribute('data-layername');\n    var newOverlays = void 0;\n\n    if (exclusive === 'exclusive') {\n      // event.target true other items in exclusive group is false\n      newOverlays = overlays.map(function (overlay, index) {\n        if (overlay.groupTitle + '-' + _this3.id === '' + event.target.name) {\n          return {\n            checked: overlay.name === id,\n            groupTitle: overlay.groupTitle,\n            name: overlay.name,\n            title: overlay.title\n          };\n        }\n\n        return overlay;\n      });\n    }\n\n    if (exclusive === 'nonExclusive') {\n      // change with event.target.checked true or false\n      newOverlays = overlays.map(function (overlay, index) {\n        if (overlay.groupTitle + '-' + _this3.id === '' + event.target.name && overlay.name === id) {\n          return {\n            checked: event.target.checked,\n            groupTitle: overlay.groupTitle,\n            name: overlay.name,\n            title: overlay.title\n          };\n        }\n\n        return overlay;\n      });\n    }\n\n    if (this.props.onOverlayChange) {\n      this.props.onOverlayChange(newOverlays);\n    }\n  };\n\n  RLGroupedLayerControlRC.prototype.baseLayerChange = function baseLayerChange(event) {\n    if (this.props.onBaseLayerChange) {\n      this.props.onBaseLayerChange(event.target.getAttribute('data-layername'));\n    }\n  };\n\n  RLGroupedLayerControlRC.prototype.setMaxHeight = function setMaxHeight() {\n    var containerRect = this.props.map.getContainer().getBoundingClientRect();\n    var divRect = this.div.getBoundingClientRect();\n    var maxHeight = Math.floor((containerRect.bottom - divRect.y) * 0.95) + 'px';\n    this.div.style.maxHeight = maxHeight;\n  };\n\n  RLGroupedLayerControlRC.prototype.componentDidMount = function componentDidMount() {\n    var _this4 = this;\n\n    setInterval(function () {\n      if (_this4.state.open) {\n        _this4.setState({\n          open: true\n        });\n      }\n    }, 1);\n    this.setMaxHeight();\n  };\n\n  RLGroupedLayerControlRC.prototype.render = function render() {\n    var _this5 = this;\n\n    this.reduceWithProps();\n    var baseGroup = this.groupContainer(_react2.default.createElement('span', {\n      key: 'title-baselayer',\n      className: 'rlglc-grouptitle'\n    }, 'Base Layers'), this.props.baseLayers.map(function (e, i) {\n      return _this5.listItem('baselayer', e, e.name === _this5.props.checkedBaseLayer, 'radio', _this5.baseLayerChange);\n    }), 'baselayer');\n    var groups = this.props.overlays ? this.groupTitles.reduce(function (a, b) {\n      var groupTitle = _react2.default.createElement('span', {\n        key: 'title-' + b,\n        className: 'rlglc-grouptitle'\n      }, b);\n\n      var groupElemans = void 0;\n\n      if (_this5.props.exclusiveGroups && _this5.props.exclusiveGroups.includes(b)) {\n        // exclusives\n        groupElemans = _this5.groups[b].groupItems.map(function (e, i) {\n          return _this5.listItem(b, e, e.checked, 'radio', _this5.overlayChanged.bind(_this5, 'exclusive'));\n        });\n      } else {\n        // standard overlays\n        groupElemans = _this5.groups[b].groupItems.map(function (e, i) {\n          return _this5.listItem(b, e, e.checked, 'checkbox', _this5.overlayChanged.bind(_this5, 'nonExclusive'));\n        });\n      }\n\n      return [].concat(a, [_this5.groupContainer(groupTitle, groupElemans, b)]);\n    }, []) : null;\n    return _react2.default.createElement('div', {\n      ref: function ref(_ref) {\n        return _this5.div = _ref;\n      },\n      className: 'rlglc' + (this.state.open ? ' rlglc-active' : ''),\n      onMouseEnter: this.mainDivMouseEnter.bind(this),\n      onMouseLeave: this.mainDivMouseLeave.bind(this)\n    }, _react2.default.createElement('a', {\n      className: 'rlglc-a'\n    }, _react2.default.createElement('div', {\n      className: this.state.open ? 'rlglc-open' : 'rlglc-close'\n    }, baseGroup, this.props.overlays ? _react2.default.createElement('div', {\n      className: 'rlglc-seperator'\n    }) : null, groups)));\n  };\n\n  return RLGroupedLayerControlRC;\n}(_react2.default.Component);\n\nexports.default = RLGroupedLayerControlRC;","map":{"version":3,"sources":["/home/tanto/Courses/CCC/Learns/react/ausmap/node_modules/react-leaflet-grouped-layer-control/lib/RL-Grouped-Layer-Control-RC.js"],"names":["exports","__esModule","_react","require","_react2","_interopRequireDefault","_ListItem","_ListItem2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","RLGroupedLayerControlRC","_React$Component","props","_this","listItem","bind","reduceWithProps","baseLayerChange","state","open","groups","id","Math","ceil","random","mainDivMouseEnter","e","setState","mainDivMouseLeave","_this2","overlays","reduce","a","b","groupTitle","exclusive","undefined","groupItems","exclusiveGroups","includes","push","init","groupTitles","Array","from","Set","map","groupContainer","groupElemans","key","createElement","className","groupName","checked","type","onClick","name","overlayChanged","event","_this3","concat","target","getAttribute","newOverlays","overlay","index","title","onOverlayChange","onBaseLayerChange","setMaxHeight","containerRect","getContainer","getBoundingClientRect","divRect","div","maxHeight","floor","bottom","y","style","componentDidMount","_this4","setInterval","render","_this5","baseGroup","baseLayers","i","checkedBaseLayer","ref","_ref","onMouseEnter","onMouseLeave","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ListItem = require('./ListItem');\n\nvar _ListItem2 = _interopRequireDefault(_ListItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Props:\n *  baseLayers\n *  checkhedBaseLayer\n *  overlays\n *  exclusiveGroups\n *  onBaseLayerChange\n *  onOverlayChange\n */\n\nvar RLGroupedLayerControlRC = function (_React$Component) {\n    _inherits(RLGroupedLayerControlRC, _React$Component);\n\n    function RLGroupedLayerControlRC(props) {\n        _classCallCheck(this, RLGroupedLayerControlRC);\n\n        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n        _this.listItem = _this.listItem.bind(_this);\n        _this.reduceWithProps = _this.reduceWithProps.bind(_this);\n        _this.baseLayerChange = _this.baseLayerChange.bind(_this);\n        _this.state = { open: false };\n        _this.groups;\n        _this.id = Math.ceil(Math.random() * 1000);\n        return _this;\n    }\n\n    /**\n     * Events\n     */\n\n\n    RLGroupedLayerControlRC.prototype.mainDivMouseEnter = function mainDivMouseEnter(e) {\n        this.state.open || this.setState({ open: true });\n    };\n\n    RLGroupedLayerControlRC.prototype.mainDivMouseLeave = function mainDivMouseLeave(e) {\n        this.setState({ open: false });\n    };\n    // Events End\n\n    RLGroupedLayerControlRC.prototype.reduceWithProps = function reduceWithProps() {\n        var _this2 = this;\n\n        this.groups = this.props.overlays && this.props.overlays.reduce(function (a, b) {\n            if (typeof a[b.groupTitle] === 'undefined') {\n                a[b.groupTitle] = {\n                    exclusive: undefined,\n                    groupItems: []\n                };\n            }\n            if (typeof a[b.groupTitle]['exclusive'] === 'undefined') {\n                if (_this2.props.exclusiveGroups && _this2.props.exclusiveGroups.includes(b.groupTitle)) {\n                    a[b.groupTitle]['exclusive'] = true;\n                } else {\n                    a[b.groupTitle]['exclusive'] = false;\n                }\n            }\n            a[b.groupTitle]['groupItems'].push(b);\n            return a;\n        }, { init: true });\n        this.groupTitles = this.props.overlays && Array.from(new Set(this.props.overlays.map(function (e) {\n            return e.groupTitle;\n        })));\n    };\n\n    RLGroupedLayerControlRC.prototype.groupContainer = function groupContainer(groupTitle, groupElemans, key) {\n        return _react2.default.createElement(\n            'div',\n            { key: key, className: 'rlglc-group' },\n            groupTitle,\n            groupElemans\n        );\n    };\n\n    RLGroupedLayerControlRC.prototype.listItem = function listItem(groupName, e, checked, type, onClick) {\n        return _react2.default.createElement(_ListItem2.default, {\n            key: e.name + '-' + this.id,\n            groupName: groupName,\n            id: this.id,\n            e: e,\n            checked: checked,\n            type: type,\n            onClick: onClick });\n    };\n\n    RLGroupedLayerControlRC.prototype.overlayChanged = function overlayChanged(exclusive, event) {\n        var _this3 = this;\n\n        var overlays = [].concat(this.props.overlays);\n        var id = event.target.getAttribute('data-layername');\n        var newOverlays = void 0;\n        if (exclusive === 'exclusive') {\n            // event.target true other items in exclusive group is false\n            newOverlays = overlays.map(function (overlay, index) {\n                if (overlay.groupTitle + '-' + _this3.id === '' + event.target.name) {\n                    return {\n                        checked: overlay.name === id,\n                        groupTitle: overlay.groupTitle,\n                        name: overlay.name,\n                        title: overlay.title\n                    };\n                }\n                return overlay;\n            });\n        }\n        if (exclusive === 'nonExclusive') {\n            // change with event.target.checked true or false\n            newOverlays = overlays.map(function (overlay, index) {\n                if (overlay.groupTitle + '-' + _this3.id === '' + event.target.name && overlay.name === id) {\n                    return {\n                        checked: event.target.checked,\n                        groupTitle: overlay.groupTitle,\n                        name: overlay.name,\n                        title: overlay.title\n                    };\n                }\n                return overlay;\n            });\n        }\n\n        if (this.props.onOverlayChange) {\n            this.props.onOverlayChange(newOverlays);\n        }\n    };\n\n    RLGroupedLayerControlRC.prototype.baseLayerChange = function baseLayerChange(event) {\n        if (this.props.onBaseLayerChange) {\n            this.props.onBaseLayerChange(event.target.getAttribute('data-layername'));\n        }\n    };\n\n    RLGroupedLayerControlRC.prototype.setMaxHeight = function setMaxHeight() {\n        var containerRect = this.props.map.getContainer().getBoundingClientRect();\n        var divRect = this.div.getBoundingClientRect();\n        var maxHeight = Math.floor((containerRect.bottom - divRect.y) * 0.95) + 'px';\n        this.div.style.maxHeight = maxHeight;\n    };\n\n    RLGroupedLayerControlRC.prototype.componentDidMount = function componentDidMount() {\n        var _this4 = this;\n\n        setInterval(function () {\n            if (_this4.state.open) {\n                _this4.setState({\n                    open: true\n                });\n            }\n        }, 1);\n        this.setMaxHeight();\n    };\n\n    RLGroupedLayerControlRC.prototype.render = function render() {\n        var _this5 = this;\n\n        this.reduceWithProps();\n        var baseGroup = this.groupContainer(_react2.default.createElement(\n            'span',\n            { key: 'title-baselayer', className: 'rlglc-grouptitle' },\n            'Base Layers'\n        ), this.props.baseLayers.map(function (e, i) {\n            return _this5.listItem('baselayer', e, e.name === _this5.props.checkedBaseLayer, 'radio', _this5.baseLayerChange);\n        }), 'baselayer');\n\n        var groups = this.props.overlays ? this.groupTitles.reduce(function (a, b) {\n            var groupTitle = _react2.default.createElement(\n                'span',\n                { key: 'title-' + b, className: 'rlglc-grouptitle' },\n                b\n            );\n            var groupElemans = void 0;\n            if (_this5.props.exclusiveGroups && _this5.props.exclusiveGroups.includes(b)) {\n                // exclusives\n                groupElemans = _this5.groups[b].groupItems.map(function (e, i) {\n                    return _this5.listItem(b, e, e.checked, 'radio', _this5.overlayChanged.bind(_this5, 'exclusive'));\n                });\n            } else {\n                // standard overlays\n                groupElemans = _this5.groups[b].groupItems.map(function (e, i) {\n                    return _this5.listItem(b, e, e.checked, 'checkbox', _this5.overlayChanged.bind(_this5, 'nonExclusive'));\n                });\n            }\n            return [].concat(a, [_this5.groupContainer(groupTitle, groupElemans, b)]);\n        }, []) : null;\n\n        return _react2.default.createElement(\n            'div',\n            {\n                ref: function ref(_ref) {\n                    return _this5.div = _ref;\n                },\n                className: 'rlglc' + (this.state.open ? ' rlglc-active' : ''),\n                onMouseEnter: this.mainDivMouseEnter.bind(this),\n                onMouseLeave: this.mainDivMouseLeave.bind(this)\n            },\n            _react2.default.createElement(\n                'a',\n                { className: 'rlglc-a' },\n                _react2.default.createElement(\n                    'div',\n                    { className: this.state.open ? 'rlglc-open' : 'rlglc-close' },\n                    baseGroup,\n                    this.props.overlays ? _react2.default.createElement('div', { className: 'rlglc-seperator' }) : null,\n                    groups\n                )\n            )\n        );\n    };\n\n    return RLGroupedLayerControlRC;\n}(_react2.default.Component);\n\nexports.default = RLGroupedLayerControlRC;"]},"metadata":{},"sourceType":"script"}